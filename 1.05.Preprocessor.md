# Препроцессор

Препроцессор — программа, которая прямо перед компиляцией проекта переводит код в пригодный для обработки. Подключает дополнительные файлы, проверяет синтаксические ошибки и убирает из кода комментарии.

В ZScript у него есть буквально две команды: выбор эмулируемой версии и добавление компилятору путей к подключаемым файлам.



## Установка версии

Эмулируемая версия ZScript. Нужно указывать лишь один раз, в начале основного файла. Если движок ещё не поддерживает указанную в этом параметре версию, то на стадии препроцессинга он об этом сообщит.

_Примечание: везде, где это возможно, в примерах будет использоваться самая, как по мне, оптимальная по совместимости/функционалу — 3.3.0 (последняя на момент написания — 4.7.0). Советую использовать первую версию, удовлетворяющую всем требованиям Вашей модификации, иначе кто-то гарантированно не сможет её запустить. Исправить версию на более свежую легко, а вот обратно... Совершенно не факт, что удастся._

Синтаксис:

```C
version "<версия>"

// Примеры:
version "3.3"

// Или:
version "2.4.0"   // Модификации я постоянно пишу на этой версии, её хватает для подавляющего большинства задач. Не понимаю, зачем люди ломают совместимость (может, не знают?).

// Или:
version "4.7.1"
```



## Подключение дополнительного файла кода

Подключаемый модуль, можно использовать неоднократно и не только в заглавном файле. В кавычках пишется относительный путь до дополнительного, подключаемого файла. Стоит использовать, чтобы не создавать лишь один файл на десятки тысячи строк и сотни классов.

Если Вы изучали любой язык программирования, или даже ACS/Decorate — то принцип действия команды здесь почти тот же. Главное различие — единственное объявление `#include <путь>` в файле ZScript верхнего уровня даст к этому файлу доступ во всех остальных файлах.

```C
#include "<путь_до_файла>"

// Примеры:
#include "zscript/sbarinfo.zsc"
#include "zscript/eventhandlers.zsc"
#include "zscript/monsters.zsc"
#include "zscript/weapons.zsc"
```

