# Класс Thinker

`Thinker` (в свободном переводе "мыслящий") — класс, который связан с обработкой во внутриигровом мире, однако полноценным актором ещё не является. К объектами этого класса принадлежат, к примеру, обработчики действий игроков и ботов (их "души"), обработчики молний из Hexen и пометки на автокарте. 


### Методы

В классе, помимо всех наследованных от `Object`, есть следующие методы:

```CPP
virtual native void PostBeginPlay();
```
Переопределяемый метод, вызываемый сразу после создания объекта. В нём, к примеру, удобно инициализировать переменные.

```CPP
virtual native void Tick();
```
Переопределяемый метод, вызывающийся практически для всех объектов класса `Thinker` каждый игровой такт (каждую 1/35 секунды). Исключения описаны в подразделе "Принадлежность множествам".

```CPP
native void ChangeStatNum( int stat );
```
Метод, служащий для изменения принадлежности к тому или иному множеству обработки.


### Принадлежность множествам

У каждого экземляра `Thinker` есть скрытая переменная, которая определяет, внутри какого логически выделенного множества объектов он будет обрабатываться; буду называть её `StatNum`, по названию изменяющего её метода.

Приведём основные из множеств, те, которыми есть смысл пользоваться в модификациях:

* `STAT_STATIC`: `Thinker`, используемый, например, для хранения данных вроде глобальных переменных (см. 3.10). У него каждый игровой такт не вызывается метод "`Tick()`" (собственно, поэтому и назван "статическим").
* `STAT_MAPMARKER`: _(уточнить)_.
* От `STAT_USER` до `STAT_USER_MAX`: применяется для выделения отдельного блока объектов для быстрого поиска через `ThinkerIterator`.
* `STAT_DEFAULT`: если не указано обратного, то `Thinker` принимает это множество.

Полный список всегда можно посмотреть в перечислении "`Thinker.EStatnums`"".

Устанавливать принадлежность имеет смысл лишь при инициализации, в противном случае может произойти прерывание работы движка из-за попытки двойной обработки объекта за один такт:

```CPP
// Внутри объекта:
class NewThinker1: Thinker {
	override void PostBeginPlay() {
		ChangeStatNum( STAT_USER );
		Super.PostBeginPlay();
	}
}


// Вне него:
class NewThinker2: Thinker {
}
// <...>
Thinker th = new( 'NewThinker2' );
th.ChangeStatNum( STAT_USER );
```
